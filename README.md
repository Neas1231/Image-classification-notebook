# ___Weather Report___
### Weather image classification model
Классификатор картинок 10 погодных условий и класса "Нет погоды"
## Описание полученных результатов
1. __Папка notebooks__ <br />
___Содержит в себе папки и файлы:___ <br />
        - __Train models__ - папка с файлами расширения ipynb с кодом обучения моделей классификации картинок погоды <br />
        - __EDA.ipynb__ - представление собранного из сети интернет датасета и дополненного классом "No weather" <br />
        - __Models_test.ipynb__ - выведение метрик по каждому классу обученной модели с помощью сохранённой части данных не использованных при обучении и валидации <br />
        - __Inference.ipynb__ - пример работы обученной модели по распознаванию погоды на картинке с графическим выводом
2. __Папка api__ <br />
___Представляет собой веб приложение основанное на библиотеке streamlit для развёртывания обученной модели___ <br />
___Содержит папки и файлы:___ <br />
        - __Requirements.txt__ - необходимые установленные библиотеки в среде компилятора для запуска API <br />
        - __style.css__ - настройки стиля сайта, дополнение визуала интерфейса <br />
        - __weather.py__ - основной код веб приложения развёртывания получившейся модели <br />
        - __weights-no_weather_class-efinetb4-bestloss.pth__ - веса для модели, которые были полученны при обучении и валидации множества различных предобученных классификаторов <br />
3. __Файл Readme.md__ <br />
__Сам текстовый документ содержащий полезную информацию по репозиторию и самому проекту__
## Инструкция для установки веб приложения на свой компьютер.
Для начала чтобы запустить созданную нами API нужно установить требующиеся библиотеки и открыть её с помощью консоли. <br />
Но для того чтобы консоль смогла работать с средой нужно установить python и указать его IDLE для cmd. <br />
Для начала проверьте настроен ли уже python у вас в cmd написав в командной строке 'python' <br />
Если cmd вывела версию установленного пайтона значит он настроен и вы можете пропускать следующие пункты. <br />
- Также попробуте перед установкой самой версии python указать галочку на против Add python.exe to PATH и проверить сработала ли установка в cmd всё той же командой 'python'
Если автоматический метод не сработал: <br />
1. Скачайте любую версию python <br />
2. Найдите путь к файлу pythonw.exe в файлах python, открывающуюся через ярлык IDLE. <br />
Для меня это путь: C:\Users\[Пользователь]\AppData\Local\Programs\Python\Python39 <br />
3. В настройках находим раздел Система и в нём находим вкладку Дополнительные параметры системы <br />
4. В параметрах во вкладке дополнительно открываем Переменные среды <br />
5. Ищем Системные переменные и открываем переменную Path двойным кликом <br />
6. Нажимаем кнопку Создать и создаём переменную с путём к pythonw, который мы нашли в предыдущих пунктах. <br />
7. Везде нажимаем ОК и открываем cmd <br />
8. Прописываем команду 'python' и если строка вывела версию установленного пайтона всё было проделано правильно и cmd готова к установке библиотек

### Установка библиотек
Далее открыв cmd заново впишите по очереди следующие строки для установки библиотек: <br />

py -m pip install streamlit <br />
py -m pip install pandas <br />
py -m pip install Pillow <br />
py -m pip install streamlit-on-Hover-tabs <br />
py -m pip install torch <br />
py -m pip install torchvision <br />
py -m pip install PyDrive <br />

### Установка API и модели

-Скачайте github репозиторий по ссылке: https://github.com/Neas1231/Weather_Test <br />
-Распакуйте скачанные файлы в папку с используемым пользователем <br />
 У нас это путь: C:\Users\nicka <br />

### Открытие API

После того как все файлы были скачаны и установлены в нужное место, можно открывать нашу API через cmd <br />
-Введите команду py -m streamlit run weather.py <br />
Streamlit может попросить ваш mail, но вводить его не обязательно, просто нажимаете Enter и API должна открыться в браузере установленном по умолчанию.

![]("https://s387vla.storage.yandex.net/rdisk/f4f655c6533ec702e67b38705fdbacfb9b0c8bbbe3970ee73b6ae2fe71ec51a9/6453ad7d/JzBWh1hQE7F-O0fyAXlcRmdWxXfE-0eZcnPIlzxk4JxjVS5icwMUqozC6fWhQvmhlFVfXAOxuzMbSqF7vekceA==?uid=994779722&filename=Weather%20report.gif&disposition=inline&hash=&limit=0&content_type=image%2Fgif&owner_uid=994779722&fsize=18164466&hid=b52a8c38515a142b4f6002845bf89651&media_type=image&tknv=v2&etag=6c4ed71ad1ad2e002de9c1051eee4265&rtoken=xcUTRB6L9es6&force_default=yes&ycrid=na-709ec41500e51f5488b9ce1d5dc7e7a4-downloader8e&ts=5faddd1f89940&s=060520dbb0f2873f86f456569b503a041569a1b4dd4f3147846171d6a730cad5&pb=U2FsdGVkX1-q1VuZts63BUsmZTreuDpGVcY-4gZ_gsRmpVwgEv1eep7rpuE7hryBlmaFKLuXxQR2sMLW9Vm0QXqarHk-wie1OFM19ofqjsw")
